<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <!-- <link rel="icon" href="../../favicon.ico"> -->
        <title>Ticket System </title>
        <!-- Bootstrap core CSS -->
        <link href="{{ url_for('static', filename='styles/bootstrap.min.css') }}" rel="stylesheet">
        <!-- Font Style import -->
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <!-- Custom -->
        <link href="{{ url_for('static', filename='styles/style.css') }}" rel="stylesheet">
        <script src="{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    </head>

    <body>
        <div id='loginComponent' class="container">
            <div class='row'>
                <div id='loginDiv' class="col-md-6">
                    <form class="form-signin" id='formLogin' role="form">
                        <h2>Login </h2>
                        <input type="text" name="username" class="form-control" placeholder="User Name" required autofocus value="">
                        <input type="password" name="password" class="form-control" placeholder="Password" required value="">
                        <span id='errorMessageLogin'></span>
                        <button id="Login" class="btn btn-lg btn-primary btn-block" type="button">Login</button>
                    </form>
                </div>
                <div id='registerDiv' class="col-md-6">
                    <form class="form-signin" id='formRegister' role="form">
                        <h2>Register </h2>
                        <input type="text" name="firstreg" class="form-control" placeholder="First Name" required autofocus>
                        <input type="text" name="lastreg" class="form-control" placeholder="Last Name" required>
                        <!-- TODO: Role drop down menu -->
                        <input type="text" name="rolereg" class="form-control" placeholder="User Role" required>
                        <input type="text" name="userreg" class="form-control" placeholder="User Name" required>
                        <input type="password" name="passwordreg" class="form-control" placeholder="Password" required>
                        <input type="password" name="passwordconfreg" class="form-control" placeholder="Confirm Password" required>
                        <span id='errorMessageReg'></span>
                        <button id="Register" class="btn btn-lg btn-primary btn-block" type="button">Register</button>
                    </form>
                </div>
            </div>
        </div>
        <div id='homeComponent'>
            <script src="{{ url_for('static', filename='js/home.js') }}"></script>
            <div class="container">
                <!-- If role in users table is "IT", then display this page -->
                <div id='itHome'>
                    <script src="{{ url_for('static', filename='js/home.js') }}"></script>
                    <div class="container">
                        <div class="row">
                            <h1 class="greeting">Welcome&nbsp;</h1>
                        </div>
                        <h2>Assigned Tickets</h2>
                        <div class="row">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">Ticket ID</th>
                                        <th scope="col">Issue Type</th>
                                        <th scope="col">Creation Date</th>
                                        <th scope="col">User Comment</th>
                                        <th scope="col">Status</th>
                                    </tr>
                                </thead>
                                <tbody id='eventTableBody'></tbody>
                            </table>
                        </div>
                        <div class="row">
                            <div class="col-md-6 offset-md-3">
                                <button id="PopulateTable" class="btn btn-primary btn-block" type="button">Update Table</button>
                            </div>
                        </div>
                        <hr width="100%">
                        <div class="row">
                            <div id='closeDiv' class="col-md-6">
                                <form class="form-close-ticket" id='formClose' role="form">
                                    <h4>Close Ticket</h4>
                                    <input type="text" name="closetix" class="form-control" placeholder="Ticket ID" required autofocus value="">
                                    <input type="text" name="closetixconf" class="form-control" placeholder="Confirm ID" required value="">
                                    <input type="text" name="closecomment" class="form-control" placeholder="Comment" required value="">
                                    <span id='errorMessageClose'></span>
                                    <button id="CloseTicket" class="btn btn-primary btn-block" type="button">Close Ticket</button>
                                </form>
                            </div>
                            <div id='UnassignDiv' class="col-md-6">
                                <form class="form-unassign-ticket" id='formUnassign' role="form">
                                    <h4>Unassign Ticket</h4>
                                    <input type="text" name="unassigntix" class="form-control" placeholder="Ticket ID" required autofocus value="">
                                    <input type="text" name="unassigntixconf" class="form-control" placeholder="Confirm ID" required value="">
                                    <span id='errorMessageUnassign'></span>
                                    <button id="UnassignTicket" class="btn btn-primary btn-block" type="button">Unassign Ticket</button>
                                </form>
                            </div>
                        </div>
                        <hr width="100%">
                        <h2>Unassigned Tickets</h2>
                        <!-- TODO: Make unassigned tickets into check list to select -->
                        <div class="row">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">Ticket ID</th>
                                    <th scope="col">Issue Type</th>
                                    <th scope="col">Creation Date</th>
                                    <th scope="col">User Comment</th>
                                    <th scope="col">Status</th>
                                </tr>
                                </thead>
                                <tbody id='unassignedTableBody'></tbody>
                            </table>
                        </div>
                        <div class="row">
                            <span id='errorMessageAssignMe'></span>
                            <div class="col-md-6 offset-md-3">
                                <button id="AssignSubmit" class="btn btn-primary btn-block" type="button">Assign tickets to me</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id='userHome'>
                    <script src="{{ url_for('static', filename='js/home.js') }}"></script>
                    <div class="container">
                        <div class="row">
                            <h1 class="greeting">Welcome&nbsp;</h1>
                        </div>
                        <div class="row">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <!-- TODO: Query tickets table by user's username-->
                                        <th scope="col">Ticket</th>
                                        <!-- <th scope="col">IT_comment</th> -->
                                        <th scope="col">Status</th>
                                    </tr>
                                </thead>
                                <tbody id='eventTableBody2'></tbody>
                            </table>
                        </div>
                        <hr width="100%">
                        <div class='row'>
                            <div id='newEventDiv2' class="col-md-8 offset-md-2">
                                <form class="form-signin" id='newEventForm2' role="form">
                                    <h2>Create new ticket</h2>
                                    <!-- TODO: create ticket form with drop down for issue type -->
                                    <input type="text" name="eventName" id="eventName2" class="form-control" placeholder="Issue Type" required autofocus value="">
                                    <input type="text" name="eventTime" id="eventTime2" class="form-control" placeholder="User Comment" required value="">
                                    <input type="text" name="eventUrl" id="eventUrl2" class="form-control" placeholder="Date Opened" required value="">
                                    <span id='errorMessageNewEvent2'></span>
                                    <button id="EventSubmit2" class="btn btn-lg btn-primary btn-block" type="button">Submit Ticket</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>

 </html>